📝 Wiki: HTMLオーバーレイ表示の設計

1. 設計の目的
この設計の主な目的は、3Dシーン（<Canvas>）をアンマウントせずに、詳細な情報（BookDetailPage）をHTML要素として表示することです。これにより、ユーザーは3Dの世界からシームレスに情報へアクセスでき、高い没入感を維持できます。

2. 実装方法のハイライト
このシームレスな体験を実現するため、React Router DOMとCSSの特性を利用しています。

項目	実装の詳細	理由/効果
3Dシーンのレンダリング	App.tsx の中で、<LibraryScene /> を <Routes> の外側に配置し、常にレンダリングし続ける。	パスが/book/:idなどに変わっても、3Dレンダラー（<Canvas>）がアンマウントされず、背景で動き続ける。
詳細ページの表示	BookDetailPageコンポーネントを、/book/:idパスに対応する <Route> の中に配置する。	ルーティングにより、このパスに遷移した時のみ、HTML要素としてコンポーネントがマウントされる。
オーバーレイCSS	BookDetailPage.cssで、メインのコンテナに以下のCSSプロパティを適用する。	3Dレンダリングされた <canvas> 要素（固定配置）の上に、HTMLコンテンツを確実に重ねて表示する。
position: fixed;	ページ全体を覆い、スクロールしても位置を固定する。
z-index: 10;	3D <Canvas>（通常z-indexが低いかauto）の上に表示されることを保証する。
background-color: rgba(255, 255, 255, 0.95);	背面の3Dシーンをわずかに透かすことで、ユーザーに「オーバーレイである」ことを意識させる。

3. 連携の成功要因
この設計が機能するためには、カメラ制御との連携が不可欠です。

カメラ制御との協調: /book/:id パスでは、CameraFocus.tsxがcontrols.enabled = falseを設定し、カメラを動かせなくすると同時に、ズームインした位置を維持します。

復帰: ユーザーが詳細ページ内の「図書館に戻る」リンクをクリック（/に遷移）すると、BookDetailPageはアンマウントされ、CameraFocus.tsxがカメラコントロールを**有効化 (controls.enabled = true)**し、初期位置へ戻すアニメーションを開始します。